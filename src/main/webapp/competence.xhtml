<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui">
    <h:body>

        <h:head>

        </h:head>


        <ui:composition template="template/common/layout.xhtml">

            <ui:define name="content">

                <br/><br/>

                <p:fieldset legend="#{msg['personinfo.jsf']}" style="width: 500px; background-color: rgba(255, 255, 255, 0.4); ">


                    <p>#{msg['personinfotext.jsf']}</p>

                    <table cellpadding="3">
                        <tr>
                            <td id="emailf" width="150px"> 
                                <h:outputText value="#{msg['email.jsf']}" />
                            </td>
                            <td id="emaili">
                                <h:panelGrid columns="3">
                                    <h:form id="emailform">
                                        <h:inputText id="email" value="#{mbean.email}" 
                                                     size="20" required="true" label="Email Address">

                                            <f:validator validatorId="util.validators.EmailValidator" />

                                        </h:inputText>
                                        <h:message for="email" style="color:red" />
                                    </h:form>



                                </h:panelGrid>
                            </td>
                        </tr>

                        <tr>
                            <td id="ssnf" width="150px"> 
                                <h:outputText value="#{msg['ssn.jsf']}" />
                            </td>
                            <td id="ssni">
                                <h:panelGrid columns="3">
                                    <h:form id="ssnform">
                                        <h:inputText id="ssnfor" value="#{mbean.SSN}" 
                                                     size="20" required="true" label="SSN">

                                            <f:validator validatorId="util.validators.SSNValidator" />

                                        </h:inputText>
                                        <h:message for="ssnfor" style="color:red" />
                                    </h:form>



                                </h:panelGrid>
                            </td>
                        </tr>

                        <tr>
                            <td id="usernamef" width="150px"> <h:outputText value="#{msg['username.jsf']}" /></td>
                            <td id="usernamei">
                                <h:panelGrid columns="3">
                                    <h:form id="usernameform">
                                        <h:inputText id="username" value="#{mbean.username}" 
                                                     size="20" required="true" label="Username">


                                        </h:inputText>
                                    </h:form>
                                    <tr></tr>
                                </h:panelGrid>
                            </td>
                        </tr>

                        <tr>
                            <td id="passwordf" width="150px"> <h:outputText value="#{msg['password.jsf']}" /></td>
                            <td id="passwordi">
                                <h:panelGrid columns="3">
                                    <h:form id="passwordform">
                                        <h:inputText id="password" value="#{mbean.password}" 
                                                     size="20" required="true" label="password">

                                            <f:validator validatorId="util.validators.PasswordValidator" />

                                        </h:inputText>
                                        
                                    </h:form>
                                    <tr>
                                        <h:message for="password" style="color:red" />
                                    </tr>
                                </h:panelGrid>
                            </td>
                        </tr>

                        <tr>
                            <td id="firstNamef" width="150px"> <h:outputText value="#{msg['firstname.jsf']}" /></td>
                            <td id="firstNamei">
                                <h:panelGrid columns="3">
                                    <h:form id="firstnameform">
                                        <h:inputText id="firstName" value="#{mbean.firstName}" 
                                                     size="20" required="true" label="firstName">

                                            <f:validator validatorId="util.validators.NameValidator" />

                                        </h:inputText>
                                    </h:form>
                                    <tr>
                                        <h:message for="firstName" style="color:red" />
                                    </tr>
                                </h:panelGrid>
                            </td>
                        </tr>

                        <tr>
                            <td id="surNamef" width="150px"> <h:outputText value="#{msg['surname.jsf']}" /></td>
                            <td id="surNamei">
                                <h:panelGrid columns="3">
                                    <h:form id="surnameform">
                                        <h:inputText id="surName" value="#{mbean.surName}" 
                                                     size="20" required="true" label="surName">

                                            <f:validator validatorId="util.validators.NameValidator" />

                                        </h:inputText>
                                    </h:form>
                                    <tr>
                                        <h:message for="surName" style="color:red" />

                                    </tr>
                                </h:panelGrid>
                            </td>
                        </tr>


                    </table>
                </p:fieldset>

                <br/><br/>

                <p:fieldset legend="#{msg['competence.jsf']}" style="width: 500px ;background-color: rgba(255, 255, 255, 0.4); ">

                    <p>#{msg['competencetext.jsf']}</p>

                    <h:form id="competenceForm">

                        <c:forEach items="#{mbean.competenceList}" var="competence">
                            <p>Competence</p>
                            <h:selectOneMenu rendered="#{languageManager.swedish}" value="#{mbean.chosenCompetence}">
                                <f:selectItems value="#{mbean.boxCompetenceListValues}" var="c"
                                               itemLabel="#{c.competenceNameSwe}" itemValue="#{c.competenceNameSwe}" />
                            </h:selectOneMenu>

                            <h:selectOneMenu rendered="#{languageManager.english}" value="#{mbean.chosenCompetence}">
                                <f:selectItems value="#{mbean.boxCompetenceListValues}" var="c"
                                               itemLabel="#{c.competenceNameEng}" itemValue="#{c.competenceNameEng}" />
                            </h:selectOneMenu>
                            <p>Years Of Experience</p>
                            <h:inputText value="#{competence.yoe}" /><br />
                        </c:forEach>

                        <br/>
                        <h:commandButton value="Add Competence" action="#{mbean.addCompetence()}" immediate="true">
                            <f:ajax render="competenceForm" />
                        </h:commandButton>

                    </h:form>
                </p:fieldset>

                <br/><br/>

                <p:fieldset legend="#{msg['availability.jsf']}" style="width: 500px; background-color: rgba(255, 255, 255, 0.4); " >

                    <p>#{msg['availabilitytext.jsf']}</p>

                    <h:form id="from">  

                        <h3>#{msg['from.jsf']}:</h3>  
                        <p:calendar value="#{mbean.datefrom}" id="popupCal" />  

                        <!--                            <p:commandButton value="Submit" update="display" oncomplete="PF('dialog').show()" />  -->

                        <p:dialog header="Selected Dates" widgetVar="dialog"   
                                  showEffect="fade" hideEffect="fade">  

                            <h:panelGrid id="display" columns="2" cellpadding="5">  


                                <h:outputText value="Popup Date:" />  
                                <h:outputText value="#{mbean.datefrom}" id="popupDate">  
                                    <f:convertDateTime pattern="d/M/yyyy"/>  
                                </h:outputText>  


                            </h:panelGrid>  

                        </p:dialog>  

                    </h:form>

                    <h:form id="to">  

                        <h3>#{msg['to.jsf']}:</h3>  
                        <p:calendar value="#{mbean.dateto}" id="popupCal" />  

                        <!--                            <p:commandButton value="Submit" update="display" oncomplete="PF('dialog').show()" />  -->

                        <p:dialog header="Selected Dates" widgetVar="dialog"   
                                  showEffect="fade" hideEffect="fade">  

                            <h:panelGrid id="display" columns="2" cellpadding="5">  


                                <h:outputText value="Popup Date:" />  
                                <h:outputText value="#{mbean.dateto}" id="popupDate">  
                                    <f:convertDateTime pattern="d/M/yyyy"/>  
                                </h:outputText>  


                            </h:panelGrid>  

                        </p:dialog>  

                    </h:form>



                    <br/><br/><br/>

                </p:fieldset>

                <br/><br/>
                <h:form>
                    <h:commandButton value="#{msg['submit.jsf']}"/>
                </h:form>
            </ui:define>

        </ui:composition>

    </h:body>
</html>

